<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width,initial-scale=1">
  <title>Todo Widget Preview</title>
  <link rel="stylesheet" href="./todo.css">
</head>
<body>
  <div id="todo-root"></div>
  <script id="todo-data" type="application/json">
    {
      "tasks": [
        { "id": "demo-1", "text": "Build todo app", "done": false, "created_at": "2025-10-20T10:00:00Z" },
        { "id": "demo-2", "text": "Cook food", "done": true, "created_at": "2025-10-19T08:00:00Z" },
        { "id": "demo-3", "text": "Study", "done": true, "created_at": "2025-10-18T18:30:00Z" }
      ]
    }
  </script>
  <script type="module">
    import { renderTodoWidget } from "./todo.js";

    const dataEl = document.getElementById("todo-data");
    const root = document.getElementById("todo-root");
    const data = JSON.parse(dataEl.textContent);

    renderTodoWidget({
      root,
      tasks: data.tasks,
      postMessageTarget: window.parent,
    });
  </script>
</body>
</html>
